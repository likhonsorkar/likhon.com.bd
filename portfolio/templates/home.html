{% extends 'base.html' %}
{% load static %}

{% block title %}MD. LIKHON SORKAR - Personal Portfolio{% endblock %}

{% block content %}
<section id="hero" class="d-flex align-items-center py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 pt-5 pt-lg-0 order-2 order-lg-1 d-flex flex-column justify-content-center">
                <h1 class="text-primary animate__animated animate__fadeInUp">MD. LIKHON SORKAR</h1>
                <h2 class="animated-text animate__animated animate__fadeInUp animate__delay-1s">I am a <span class="typed-text"></span><span class="cursor">&nbsp;</span></h2>
                <p class="animate__animated animate__fadeInUp animate__delay-2s">
                    I am a passionate developer with expertise in building modern, responsive, and robust web applications. Let's create something amazing together.
                </p>
                <div class="d-flex animate__animated animate__fadeInUp animate__delay-3s">
                    <a href="#projects" class="btn btn-primary me-2">My Work</a>
                    <a href="#contact" class="btn btn-outline-secondary">Get in Touch</a>
                </div>
            </div>
            <div class="col-lg-6 order-1 order-lg-2 hero-img animate__animated animate__fadeInUp animate__delay-2s">
                <img src="{% static 'images/likhon.webp' %}" class="img-fluid" alt="MD. LIKHON SORKAR">
            </div>
        </div>
    </div>
</section>

<hr class="section-divider">

<section id="services" class="services py-5 section-animated">
    <div class="container">
        <div class="section-title text-center animate__animated animate__fadeInDown">
            <h2 class="text-uppercase">My Services</h2>
            <p>I offer a range of services from personal projects to custom development solutions.</p>
        </div>
        <div class="row text-center">
            {% for service in services %}
            <div class="col-md-4 mb-4 animate__animated animate__fadeInUp animate__delay-1s">
                <div class="card h-100 animated-card">
                    <div class="card-body">
                        <div class="icon"><i class="{{ service.icon }} fa-2x"></i></div>
                        <h4 class="title mt-3"><a href="{{ service.link }}">{{ service.title }}</a></h4>
                        <p class="description">{{ service.description }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<hr class="section-divider">

<section id="projects" class="projects py-5 section-animated">
    <div class="container">
        <div class="section-title text-center animate__animated animate__fadeInDown">
            <h2 class="text-uppercase">My Projects</h2>
        </div>
        <div class="row">
            {% for project in projects %}
            <div class="col-lg-4 col-md-6 d-flex align-items-stretch mb-4 animate__animated animate__zoomIn animate__delay-1s">
                <div class="card w-100 animated-card">
                    <img src="{{ project.image.url }}" class="card-img-top" alt="{{ project.title }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ project.title }}</h5>
                        <p class="card-text">{{ project.description }}</p>
                        <a href="{{ project.project_url }}" class="btn btn-sm btn-primary">View Project</a>
                        {% if project.github_url %}
                        <a href="{{ project.github_url }}" class="btn btn-sm btn-secondary">GitHub</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
<hr class="section-divider">

<section id="reviews" class="reviews py-5 section-animated">
    <div class="container">
        <div class="section-title text-center animate__animated animate__fadeInDown">
            <h2 class="text-uppercase">Customer Reviews</h2>
            <p>Hear from my clients about their experience working with me.</p>
        </div>
        <div id="reviewCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for review in reviews %}
                <div class="carousel-item {% if forloop.first %}active{% endif %} animate__animated animate__fadeInUp animate__delay-1s">
                    <div class="d-flex justify-content-center text-center">
                        <div class="card-body">
                            <i class="fas fa-quote-left text-primary mb-3 fa-2x"></i>
                            <p class="review-text">"{{ review.review_text }}"</p>
                            <h5 class="card-title text-primary">- {{ review.client_name }}</h5>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#reviewCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#reviewCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
</section>
<hr class="section-divider">

<section id="contact" class="contact py-5 section-animated">
    <div class="container">
        <div class="section-title text-center animate__animated animate__fadeInDown">
            <h2 class="text-uppercase">Contact Me</h2>
            <p>Have a question or a project in mind? Fill out the form below and I'll get back to you soon.</p>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-7 mt-5 mt-lg-0 animate__animated animate__fadeInUp animate__delay-1s">
                <form action="#" method="post" role="form" class="php-email-form p-4 rounded border">
                    {% csrf_token %}
                    <div class="row">
                        <div class="form-group col-md-6 mb-3">
                            <label for="name">Your Name</label>
                            <input type="text" name="name" class="form-control" id="name" required>
                        </div>
                        <div class="form-group col-md-6 mb-3">
                            <label for="email">Your Email</label>
                            <input type="email" class="form-control" name="email" id="email" required>
                        </div>
                    </div>
                    <div class="form-group mb-3">
                        <label for="subject">Subject</label>
                        <input type="text" class="form-control" name="subject" id="subject" required>
                    </div>
                    <div class="form-group mb-3">
                        <label for="message">Message</label>
                        <textarea class="form-control" name="message" rows="5" required></textarea>
                    </div>
                    <div class="text-center mt-3"><button type="submit" class="btn btn-primary">Send Message</button></div>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Existing script for animated text
    const typedTextSpan = document.querySelector('.typed-text');
    const textArray = ["Frontend Web Developer", "Backend Django Developer", "Python Programmer"];
    const typingDelay = 100;
    const erasingDelay = 50;
    const newTextDelay = 2000;
    let textArrayIndex = 0;
    let charIndex = 0;

    function type() {
        if (charIndex < textArray[textArrayIndex].length) {
            if (!typedTextSpan.classList.contains('typing')) typedTextSpan.classList.add('typing');
            typedTextSpan.textContent += textArray[textArrayIndex].charAt(charIndex);
            charIndex++;
            setTimeout(type, typingDelay);
        } else {
            typedTextSpan.classList.remove('typing');
            setTimeout(erase, newTextDelay);
        }
    }

    function erase() {
        if (charIndex > 0) {
            if (!typedTextSpan.classList.contains('typing')) typedTextSpan.classList.add('typing');
            typedTextSpan.textContent = textArray[textArrayIndex].substring(0, charIndex - 1);
            charIndex--;
            setTimeout(erase, erasingDelay);
        } else {
            typedTextSpan.classList.remove('typing');
            textArrayIndex++;
            if (textArrayIndex >= textArray.length) textArrayIndex = 0;
            setTimeout(type, typingDelay + 1100);
        }
    }

    document.addEventListener("DOMContentLoaded", function() {
        if(textArray.length) setTimeout(type, newTextDelay + 250);
    });

</script>
{% endblock %}